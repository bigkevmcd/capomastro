{% extends "base.html" %}
{% load bootstrap3 %}

{% block page_title %}Wooster - Dependencies{% endblock %}
{% block page_class %}projects{% endblock %}

{% block content %}
<div class="container">
  <div class="row">
    <h2>Dependencies</h2>
    <table class="table table-striped">
      <thead>
        <tr>
          <th>Name</th>
          <th>Type</th>
          <th>Description</th>
          <th>Job</th>
        </tr>
      </thead>
      <tbody>
        {% for dependency in dependencies %}
        <tr>
          <td>{{ dependency.name }}</td>
          <!-- TODO: This should probably link to the Job in the jenkins app -->
          <td><a href="{% url 'jobtype_detail' pk=dependency.job.jobtype.pk %}">{{ dependency.job.jobtype.name }}</a></td>
          <td>{{ dependency.description|default:"No description" }}</td>
          <td>{{ dependency.job.name }}</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>
    <p><a href="{% url 'dependency_create' %}" class="btn btn-primary" role="button">Create new dependency Â»</a></p>
  </div>
</div>
{% endblock %}
